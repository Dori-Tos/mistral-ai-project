<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Historical Fact Checker - Powered by Mistral AI</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Input Section -->
    <section class="input-section">
      <h2>Submit Your Document for Analysis</h2>
      <p class="section-description">
        Choose your preferred method to submit historical content for
        fact-checking analysis.
      </p>

      <div class="input-methods">
        <!-- Text Input Method -->
        <div class="input-method">
          <h3>üìù Text Input</h3>
          {% if text_error %}
          <div class="error-message">{{ text_error }}</div>
          {% endif %} {% if text_success %}
          <div class="success-message">{{ text_success }}</div>
          {% endif %}
          <form class="text-form" action="/analyze-text" method="post">
            <div class="form-group">
              <label for="historical-text"
                >Enter Historical Text or Facts with context:</label
              >
              <textarea
                id="historical-text"
                name="historical_text"
                placeholder="Paste your historical text here for fact-checking analysis. For example: 'The Battle of Hastings took place in 1066 when William the Conqueror defeated Harold II...'"
                rows="15"
                minlength="10"
                required
                class="large-textarea"
                value="{{ request.form.get('historical_text', '') }}"
              >
{{ request.form.get('historical_text', '') }}</textarea
              >
            </div>
            <button type="submit" class="submit-btn">
              <span class="btn-icon">üîç</span>
              Analyze Text
            </button>
          </form>
        </div>

        <!-- File Upload Method -->
        <div class="input-method">
          <h3>üìÅ File Upload</h3>
          {% if file_error %}
          <div class="error-message">{{ file_error }}</div>
          {% endif %} {% if file_success %}
          <div class="success-message">{{ file_success }}</div>
          {% endif %}
          <form
            class="file-form"
            action="/analyze-pdf"
            method="post"
            enctype="multipart/form-data"
          >
            <div class="file-upload-area compact">
              <div class="upload-content">
                <label for="file-input" class="file-browse-btn">
                  Browse from Computer
                </label>
                <input
                  type="file"
                  id="file-input"
                  name="document_file"
                  accept=".pdf,.txt"
                  required
                />
                <p class="file-info">Supported formats: PDF, TXT (Max 10MB)</p>
              </div>
            </div>
            
            <!-- Additional Document Information -->
            <div class="document-info">
              <div class="form-group">
                <label for="document-date">Document Date (Optional):</label>
                <input
                  type="date"
                  id="document-date"
                  name="document_date"
                  min="0001-01-01"
                  max="2025-12-31"
                  placeholder="Select document date"
                />
              </div>
              
              <div class="form-group">
                <label for="document-author">Author (Optional):</label>
                <input
                  type="text"
                  id="document-author"
                  name="document_author"
                  placeholder="Enter document author or source"
                  maxlength="100"
                />
              </div>
              
              <div class="form-group">
                <label for="document-comment">Additional Notes (Optional):</label>
                <textarea
                  id="document-comment"
                  name="document_comment"
                  placeholder="Add any additional context or comments about this document"
                  rows="3"
                  maxlength="500"
                ></textarea>
              </div>
            </div>
            
            <button type="submit" class="submit-btn">
              <span class="btn-icon">üìä</span>
              Analyze Document
            </button>
          </form>
        </div>
      </div>
    </section>
  </body>
</html>
